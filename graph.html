<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Graphes en Java : Explication Compl√®te üìöüé®</title>
    <!-- Tailwind CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- Prism.js CSS (Tomorrow Theme) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <!-- Custom Styles -->
    <style>
        body {
            background-color: #fffaf0; /* Beige pastel */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .card {
            @apply bg-white rounded-lg shadow-md p-6 mb-6 border-l-4 border-pink-400 cursor-pointer;
            transition: transform 0.2s;
        }
        .card:hover {
            @apply transform scale-105;
        }
        .section-title {
            @apply text-2xl font-bold mb-4 flex items-center;
            color: #d81b60; /* Rose vif */
        }
        .keyword {
            color: #6f42c1; /* Violet pastel */
            font-weight: bold;
        }
        .emoji {
            margin-right: 0.5em;
            font-size: 1.5em;
        }
        .code-content {
            display: none;
        }
        .code-content.active {
            display: block;
        }
        pre {
            @apply bg-gray-800 text-white p-4 rounded-md overflow-x-auto;
        }
        code {
            @apply text-sm;
        }
        /* Responsive grid */
        @media (min-width: 768px) {
            .grid-container {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }
    </style>
</head>
<body class="flex flex-col items-center p-4">
    <header class="mb-8">
        <h1 class="text-4xl font-bold text-pink-600">Graphes en Java : Explication Compl√®te üìöüé®</h1>
    </header>

    <main class="w-full max-w-7xl grid grid-cols-1 gap-6 grid-container">
        <!-- 1. Introduction -->
        <div class="card" onclick="toggleContent(this)">
            <div class="section-title">
                <span class="emoji">üó∫Ô∏è</span> 1. Introduction
            </div>
            <p>Bienvenue dans cette explication d√©taill√©e sur la <span class="keyword">mise en ≈ìuvre des graphes en Java</span>. Nous allons explorer :</p>
            <ul class="list-disc list-inside">
                <li>Repr√©sentation d'un graphe avec des <span class="keyword">types g√©n√©riques</span> (ex : <code>Personne</code>) en matrice.</li>
                <li>Repr√©sentation d'un graphe avec des <span class="keyword">entiers</span> en matrice et en liste.</li>
                <li>Ajout des relations, v√©rification de leur existence, et parcours du graphe en profondeur (DFS).</li>
                <li>Gestion des cycles dans le graphe.</li>
            </ul>
            <div class="code-content">
                <p class="mt-4"><strong>Objectifs :</strong></p>
                <ul class="list-disc list-inside">
                    <li>Comprendre les diff√©rentes repr√©sentations de graphes en Java.</li>
                    <li>Impl√©menter des graphes g√©n√©riques et non g√©n√©riques.</li>
                    <li>Utiliser les algorithmes de parcours DFS et BFS.</li>
                    <li>G√©rer efficacement les cycles dans les graphes.</li>
                </ul>
            </div>
        </div>

        <!-- 2. Classe Domaine : Personne -->
        <div class="card" onclick="toggleContent(this)">
            <div class="section-title">
                <span class="emoji">üë•</span> 2. Classe Domaine : Personne
            </div>
            <p>La classe <span class="keyword">Personne</span> sert d'exemple de type de n≈ìud pour le graphe g√©n√©rique. Elle est simple et repr√©sente une personne avec un nom et un pr√©nom.</p>
            <div class="code-content">
                <pre><code class="language-java">
// Fichier : domaine/Personne.java
package domaine;

public class Personne {
    private String nom;
    private String prenom;

    public Personne(String nom, String prenom) {
        this.nom = nom;
        this.prenom = prenom;
    }

    // Getters & Setters
    public String getNom() { return nom; }
    public String getPrenom() { return prenom; }

    public void setNom(String nom) { this.nom = nom; }
    public void setPrenom(String prenom) { this.prenom = prenom; }

    @Override
    public String toString() {
        return prenom + " " + nom;
    }
}
                </code></pre>
            </div>
        </div>

        <!-- 3. Interface Graphe G√©n√©rique -->
        <div class="card" onclick="toggleContent(this)">
            <div class="section-title">
                <span class="emoji">üîå</span> 3. Interface Graphe G√©n√©rique
            </div>
            <p>L'interface <code>Graphe&lt;T&gt;</code> d√©finit les op√©rations de base pour manipuler un graphe g√©n√©rique.</p>
            <div class="code-content">
                <pre><code class="language-java">
// Fichier : metier/Graphe.java
package metier;

public interface Graphe<T> {
    void addRelation(T source, T dest);
    boolean existeRelation(T source, T dest);
    void parcourirDepuis(T source);
    // boolean existeChemin(T source, T dest); // optionnel
}
                </code></pre>
            </div>
        </div>

        <!-- 4. GrapheDansUneMatrice<T> -->
        <div class="card" onclick="toggleContent(this)">
            <div class="section-title">
                <span class="emoji">üß±</span> 4. GrapheDansUneMatrice&lt;T&gt;
            </div>
            <p>Impl√©mentation d'un graphe g√©n√©rique en utilisant une <span class="keyword">matrice bool√©enne</span>. Les n≈ìuds sont stock√©s dans une liste pour leur associer un indice.</p>
            <div class="code-content">
                <pre><code class="language-java">
// Fichier : metier/GrapheDansUneMatrice.java
package metier;

import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

public class GrapheDansUneMatrice<T> implements Graphe<T> {
    private boolean[][] matriceDesRelations;
    private List<T> listeDesNoeuds; 
    private Set<T> dejaPasseParLa;

    public GrapheDansUneMatrice(int nb) {
        this.matriceDesRelations = new boolean[nb][nb];
        this.listeDesNoeuds = new ArrayList<>();
    }

    @Override
    public void addRelation(T source, T dest) {
        if (!listeDesNoeuds.contains(source)) listeDesNoeuds.add(source);
        if (!listeDesNoeuds.contains(dest)) listeDesNoeuds.add(dest);

        int iSource = listeDesNoeuds.indexOf(source);
        int iDest = listeDesNoeuds.indexOf(dest);
        matriceDesRelations[iSource][iDest] = true;
    }

    @Override
    public boolean existeRelation(T source, T dest) {
        int iSource = listeDesNoeuds.indexOf(source);
        int iDest = listeDesNoeuds.indexOf(dest);
        return matriceDesRelations[iSource][iDest];
    }

    @Override
    public void parcourirDepuis(T source) {
        dejaPasseParLa = new HashSet<>();
        parcoursRecursif(source);
    }

    private void parcoursRecursif(T n) {
        if (dejaPasseParLa.contains(n)) return;
        dejaPasseParLa.add(n);
        System.out.print(n + " ");

        int iSource = listeDesNoeuds.indexOf(n);
        for (int i = 0; i < matriceDesRelations.length; i++) {
            if (matriceDesRelations[iSource][i]) {
                parcoursRecursif(listeDesNoeuds.get(i));
            }
        }
    }
}
                </code></pre>
            </div>
        </div>

        <!-- 5. D√©monstration : Graphe G√©n√©rique -->
        <div class="card" onclick="toggleContent(this)">
            <div class="section-title">
                <span class="emoji">üë®‚Äçüíª</span> 5. D√©monstration : Graphe G√©n√©rique
            </div>
            <p>La classe <code>DemoMatriceTypeGen</code> montre comment utiliser un graphe g√©n√©rique avec la classe <code>Personne</code>.</p>
            <div class="code-content">
                <pre><code class="language-java">
// Fichier : metier/DemoMatriceTypeGen.java
package metier;

import domaine.Personne;

public class DemoMatriceTypeGen {
    public DemoMatriceTypeGen() {
        System.out.println("D√©monstration d'un graphe g√©n√©rique en matrice");
        Graphe<Personne> g = new GrapheDansUneMatrice<>(8);
        
        Personne p1 = new Personne("Doe", "John");
        Personne p2 = new Personne("Smith", "Jane");
        Personne p3 = new Personne("Brown", "Mike");

        g.addRelation(p1, p2);
        g.addRelation(p2, p3);
        g.addRelation(p1, p3);

        System.out.println("Relation entre John Doe et Jane Smith ? " + g.existeRelation(p1, p2));
        System.out.println("Relation entre Jane Smith et Mike Brown ? " + g.existeRelation(p2, p3));
        System.out.println("Parcours depuis John Doe :");
        g.parcourirDepuis(p1);
    }
}
                </code></pre>
            </div>
        </div>

        <!-- 6. Graphe Non G√©n√©rique -->
        <div class="card" onclick="toggleContent(this)">
            <div class="section-title">
                <span class="emoji">üß≠</span> 6. Graphe Non G√©n√©rique
            </div>
            <p>Repr√©sentation d'un graphe o√π les n≈ìuds sont des <span class="keyword">entiers</span>. Nous avons une interface <code>Graphe</code> (sans g√©n√©rique) et deux impl√©mentations : en liste et en matrice.</p>
            <div class="code-content">
                <pre><code class="language-java">
// Fichier : metier/Graphe.java (non g√©n√©rique)
package metier;

public interface Graphe {
    void addRelation(int source, int dest);
    boolean existeRelation(int source, int dest);
    void parcourirDepuis(int source);
    // boolean existeChemin(int source, int dest);
}
                </code></pre>
            </div>
        </div>

        <!-- 7. GrapheDansUneListe (Non G√©n√©rique) -->
        <div class="card" onclick="toggleContent(this)">
            <div class="section-title">
                <span class="emoji">üóÉÔ∏è</span> 7. GrapheDansUneListe
            </div>
            <p>Impl√©mentation d'un graphe non g√©n√©rique en utilisant une liste de relations. Chaque relation est un tableau <code>int[]</code> repr√©sentant [source, dest].</p>
            <div class="code-content">
                <pre><code class="language-java">
// Fichier : metier/GrapheDansUneListe.java
package metier;

import java.util.HashSet;
import java.util.Set;

public class GrapheDansUneListe implements Graphe {
    private Set<int[]> lstRelations = new HashSet<>();
    private Set<Integer> dejaPasseParLa;

    @Override
    public void addRelation(int source, int dest) {
        lstRelations.add(new int[]{source, dest});
    }

    @Override
    public boolean existeRelation(int source, int dest) {
        for (int[] r : lstRelations) {
            if (r[0] == source && r[1] == dest) return true;
        }
        return false;
    }

    @Override
    public void parcourirDepuis(int source) {
        dejaPasseParLa = new HashSet<>();
        parcoursRecursif(source);
    }

    private void parcoursRecursif(int n) {
        if (dejaPasseParLa.contains(n)) return;
        dejaPasseParLa.add(n);
        System.out.print(n + " ");

        for (int[] r : lstRelations) {
            if (r[0] == n) parcoursRecursif(r[1]);
        }
    }
}
                </code></pre>
            </div>
        </div>

        <!-- 8. GrapheDansUneMatrice (Non G√©n√©rique) -->
        <div class="card" onclick="toggleContent(this)">
            <div class="section-title">
                <span class="emoji">üèóÔ∏è</span> 8. GrapheDansUneMatrice (Non G√©n√©rique)
            </div>
            <p>Impl√©mentation d'un graphe non g√©n√©rique en utilisant une <span class="keyword">matrice bool√©enne</span>. Les indices des n≈ìuds sont leurs valeurs enti√®res.</p>
            <div class="code-content">
                <pre><code class="language-java">
// Fichier : metier/GrapheDansUneMatrice.java (non g√©n√©rique)
package metier;

import java.util.HashSet;
import java.util.Set;

public class GrapheDansUneMatrice implements Graphe {
    private boolean[][] matriceDesRelations;
    private Set<Integer> dejaPasseParLa;

    public GrapheDansUneMatrice(int nb) {
        this.matriceDesRelations = new boolean[nb][nb];
    }

    @Override
    public void addRelation(int source, int dest) {
        matriceDesRelations[source][dest] = true;
    }

    @Override
    public boolean existeRelation(int source, int dest) {
        return matriceDesRelations[source][dest];
    }

    @Override
    public void parcourirDepuis(int source) {
        dejaPasseParLa = new HashSet<>();
        parcoursRecursif(source);
    }

    private void parcoursRecursif(int n) {
        if (dejaPasseParLa.contains(n)) return;
        dejaPasseParLa.add(n);
        System.out.print(n + " ");
        for (int i = 0; i < matriceDesRelations[n].length; i++) {
            if (matriceDesRelations[n][i]) parcoursRecursif(i);
        }
    }
}
                </code></pre>
            </div>
        </div>

        <!-- 9. D√©monstration : Parcours de Graphe -->
        <div class="card" onclick="toggleContent(this)">
            <div class="section-title">
                <span class="emoji">üïµÔ∏è</span> 9. D√©monstration : Parcours de Graphe
            </div>
            <p>La classe <code>DemoParcoursGraphe</code> montre comment utiliser un graphe non g√©n√©rique, ajouter des relations, et parcourir le graphe.</p>
            <div class="code-content">
                <pre><code class="language-java">
// Fichier : metier/DemoParcoursGraphe.java
package metier;

public class DemoParcoursGraphe {
    public DemoParcoursGraphe() {
        System.out.println("D√©monstration du parcours d'un graphe");
        Graphe g = new GrapheDansUneListe(); // Ou new GrapheDansUneMatrice(8);

        g.addRelation(0, 1);
        g.addRelation(1, 2);
        g.addRelation(0, 3);
        g.addRelation(3, 1);
        g.addRelation(1, 4);
        g.addRelation(3, 4);
        g.addRelation(3, 6);
        g.addRelation(7, 6);
        g.addRelation(6, 5);
        g.addRelation(5, 3); // Cr√©e un cycle !

        System.out.println("Existe-t-il une relation entre 0 et 5 ? " + g.existeRelation(0, 5));
        System.out.println("Existe-t-il une relation entre 3 et 1 ? " + g.existeRelation(3, 1));

        System.out.println("Parcours du graphe depuis le n≈ìud 0 :");
        g.parcourirDepuis(0);
    }
}
                </code></pre>
            </div>
        </div>

        <!-- 10. Classe Main -->
        <div class="card" onclick="toggleContent(this)">
            <div class="section-title">
                <span class="emoji">üèÅ</span> 10. Classe Main
            </div>
            <p>La classe <code>Main</code> lance les d√©monstrations de graphes g√©n√©riques et non g√©n√©riques.</p>
            <div class="code-content">
                <pre><code class="language-java">
// Fichier : metier/Main.java
package metier;

public class Main {
    public static void main(String[] args) {
        new DemoParcoursGraphe(); 
        // ou new DemoMatriceTypeGen();
    }
}
                </code></pre>
            </div>
        </div>

        <!-- 11. Conclusion -->
        <div class="card" onclick="toggleContent(this)">
            <div class="section-title">
                <span class="emoji">üîö</span> 11. Conclusion
            </div>
            <p>Nous avons explor√© :</p>
            <ul class="list-disc list-inside">
                <li>Repr√©sentation des graphes g√©n√©riques et non g√©n√©riques.</li>
                <li>Ajout et v√©rification des relations.</li>
                <li>Parcours en profondeur (DFS) et gestion des cycles.</li>
            </ul>
            <p>Ces concepts sont fondamentaux pour manipuler des structures de donn√©es complexes en Java. Continuez √† pratiquer pour ma√Ætriser ces impl√©mentations ! üöÄ</p>
            <div class="code-content">
                <p>Merci d'avoir suivi cette explication d√©taill√©e sur les graphes en Java. N'h√©sitez pas √† consulter les exemples de code pour mieux comprendre chaque concept. Bonne √©tude et bonne chance pour votre examen ! üçÄüìò</p>
            </div>
        </div>
    </main>

    <!-- JavaScript pour g√©rer l'affichage des contenus des cartes -->
    <script>
        function toggleContent(card) {
            const content = card.querySelector('.code-content');
            content.classList.toggle('active');
        }
    </script>

    <!-- Prism.js JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
</body>
</html>
